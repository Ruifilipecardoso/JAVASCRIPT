<!DOCTYPE html>
<html lang="pt-pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CookieClicker</title>
    <link rel="stylesheet" href="estilos/style.css">
</head>
<body>
    <div id="bolacha">
        0
    </div>

    <table id="reset" class="botao">
        <thead>
            <tr>
                <th>
                    cost:100
                </th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Reset</td>
            </tr>
        </tbody>
        
    </table>
    
    <script>
        var bolacha = window.document.getElementById('bolacha')

        /*var txt_pontos = window.document.getElementById('bolacha').getElementsByTagName('p')[0]*/

        var pontuaçao = 0

        bolacha.addEventListener('click', clicar)
        bolacha.addEventListener('mouseenter', entrar)
        bolacha.addEventListener('mouseout', sair)
        bolacha.addEventListener('mousedown', pressionar)
        bolacha.addEventListener('mouseup', soltar)
        
        function clicar(){
            bolacha.innerHTML = (++pontuaçao)
        }

        function entrar(){
            bolacha.style.width = '260px'
            //bolacha.style.maxWidth = '500px'
            bolacha.style.height = '260px'
            //bolacha.style.maxHeight = '500px'
            bolacha.style.padding = '5px 0px 0px 0px'
        }

        function sair(){
            bolacha.style.width = '250px'
            //bolacha.style.maxWidth = '400px'
            bolacha.style.height = '250px'
            //bolacha.style.maxHeight = '400px'
            bolacha.style.padding = '0px 0px 0px 0px'
        }

        function pressionar(){
            bolacha.style.width = '240px'
            bolacha.style.height = '240px'
            bolacha.style.padding = '0px 0px 5px 0px'
        }

        function soltar(){
            entrar()
        }

        var reset = window.document.getElementById('reset')

        function reset_click(){
            if (bolacha.innerHTML >= 10){
                bolacha.innerHTML = 0
                pontuaçao = 0
            }
        }

        reset.addEventListener('click', reset_click)

        var botao = window.document.getElementsByClassName('botao')[0]

        function ativado(){
            botao.style.cursor = 'pointer'
            botao.style.background = 'lightgrey'
            botao.style.border = '4px solid blue'
        }

        function desativado(){
            botao.style.cursor = 'progress'
            botao.style.background = 'grey'
            botao.style.border = '4px solid darkblue'
        }

        function reset_ativo(){
            if (bolacha.innerHTML >= 100){
                ativado()
            }else{
                desativado()
            }
        }

        bolacha.addEventListener('click', reset_ativo)
        botao.addEventListener('click', reset_ativo)

    </script>
</body>
</html>